---------------------------------------------------------------------------------------
The up-to date changelog can be found here:
https://docs.google.com/document/d/1Gcp06Rfc0e09GRQrwRMgQLqKisTnKoeei7sZlG4a-Qo/preview
The changelog version below was last synchronized on 2019-07-25.
---------------------------------------------------------------------------------------

2019-07-25 Alexander Held <alexander.held@cern.ch>
    * Updating ChangeLog to current state of google docs, adding link to google docs version.

2019-07-09 Tomas Dado <tomas.dado@cern.ch>
    * Fixing bug in Configreader definition of fLHScanStepsY. MR prepared by Nicolas Scharmberg, thanks!
    * Fixing problem with postfit plots when morphing is used with SaturatedModel
    * Adding support for the setup that allows to run TRExFitter within ATLAS framework (AnalysisBase/AnalysisTop). MR prepared by  Nicolas Scharmberg, thanks!

2019-07-05 Tomas Dado <tomas.dado@cern.ch>
    * Added macro to plot delta-POI

2019-07-05 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fix to post-fit syst band when using morphing (and with more systematics with same NuisanceParameter)

2019-07-04 Tomas Dado <tomas.dado@cern.ch>
    * Fixing crash during plotting when only some regions were used with SignalRegionsPlot
    * Fixing problems with wildcards in ntuple paths reported in TTHFITTER-238
    * Updated CommonStatTools and CommonSystSmoothingTools to the latest version

2019-06-27 Tomas Dado <tomas.dado@cern.ch>
    * Fixing histos names for pseudodata. MR prepared by  Nicolas Scharmberg, thanks!
    * Adding option to run 2D likelihood scan. MR prepared by  Nicolas Scharmberg, thanks!
    * Properly propagating NF to correct regions in Pre-fit.

2019-06-24 Tomas Dado <tomas.dado@cern.ch>
    * Updating ROOT release to 6.14.04

===================================================
TAG TtHFitter-00-04-06
===================================================

2019-06-20 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fix to syst band in pre and post fit (for specific situations)

2019-06-20 Tomas Dado <tomas.dado@cern.ch>
    * Fixing decorrelation between samples. MR prepared by FIlip Nechansky, thanks!

2019-06-18 Tomas Dado <tomas.dado@cern.ch>
    * Switching to binned likelihood fit when running toys. MR prepared by Kevin Moor, thanks!

2019-06-17 Tomas Dado <tomas.dado@cern.ch>
    * Fixing a bug affecting normalisation factors in ranking. MR prepared by Ian Connelly, thanks!
    * Including syst uncertainties not present in the correlation matrix to syst band. MR prepared by Giancarlo Panizzo, thanks!

2019-06-06 Tomas Dado <tomas.dado@cern.ch>
    * Added Bootstrap command line option
    * MR prepared by Filip Nechansky, thanks!

2019-05-31 Tomas Dado <tomas.dado@cern.ch>
    * Fixing Divide/Multiply/Subtract working again for samples
    * Postfit plotting speed up
    * MR prepared by Giancarlo Panizzo, thanks!

2019-05-31 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added MaxNtupleEvents option (for NTUP)
    * Added SystFromSample Sample option
    * Fixed post-fit plots so that systematics not in fit results are still used and added to band
    * Other small fixes

2019-05-28 Tomas Dado <tomas.dado@cern.ch>
    * Added option to run Boostrapping for some systematics during the “n” step. MR prepared by Filip Nechansky, thanks!

2019-05-27 Alexander Held <alexander.held@cern.ch>
    * Added some “hidden” options to the jobSchema

2019-05-27 Tomas Dado <tomas.dado@cern.ch>
    * Fixing issues with Float to Pseudohex that ignored leading zeros. MR prepared by Kevin Moor, thanks!

2019-05-27 Tomas Dado <tomas.dado@cern.ch>
    * When using MergeUnderflowOverflow setting the errors of underflow/overflow to zero as it was causing issues with smoothing. MR prepared by Nicolas Scharmberg, thanks!

2019-05-15 Tomas Dado <tomas.dado@cern.ch>
    * Multifit: check if the config files used are not identical (would cause problems)

===================================================
TAG TtHFitter-00-04-05
===================================================

2019-05-09 Tomas Dado <tomas.dado@cern.ch>
    * Fixing SaturatedModel interfering with chi^2 calculation

2019-04-24 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added new config option to a dummy systematics for some samples (syst variation = nominal) - useful when used in combination with KeepNormForSamples

2019-04-24 Giancarlo Panizzo <giancarlo.panizzo@cern.ch>
    * Implementing “IgnoreWeight” config option for systematics (didn't do anything before) (Issue #8)

2019-04-19 Giancarlo Panizzo <giancarlo.panizzo@cern.ch>
    * AddSamples / SubtractSamples/DivideBy/MultiplyBy now inherit systematics by NuisanceParameter

2019-04-19 Alexander Held <alexander.held@cern.ch>
    * Added nicer colour scheme for correlation matrix

2019-04-16 Alexander Held <alexander.held@cern.ch>
    * More fixes for missing files

2019-04-16 Tomas Dado <tomas.dado@cern.ch>
    * Fixing usage of wildcards in Sample option (Issue #7)
    * Now properly printing errors/warnings when input files for ntuple reading are not found
    * Improved LHscan fitting by using Migrad directly - results in smoother LH curves
    * Fixing scaling of Morphing samples when doing S/B plots

2019-04-15 Tomas Dado <tomas.dado@cern.ch>
    * Fixing consistent usage of ttbarresonance option when smoothing nominal samples

2019-04-12 Tomas Dado <tomas.dado@cern.ch>
    * Speed improvements of the plotting code (postfit)

2019-04-12 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added saturated model for goodness of fit estimation

2019-03-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Command-line “Signals” added/changed
    * Job option “ScaleSamplesToData” added (allows to scale a set of samples to data minus the rest when plotting (d option) )
    * Job option “ExcludeFromMorphing” added
    * Other small fixes

2019-03-28 Tomas Dado <tomas.dado@cern.ch>
    * Added x-axis label to pull plots
    * Now plotting NFs even for StatOnly fit

2019-03-27 Tomas Dado <tomas.dado@cern.ch>
    * Modernize (c++14) ConfigParser
    * Allocating plots/labels/etc on stack in Multifit

2019-03-26 Tomas Dado <tomas.dado@cern.ch>
    * Adding debug info to CMakeList.txt (“-g”)
    * Fixed the hard-coded maximum number of ConfigSets in the config file

2019-03-19 Tomas Dado <tomas.dado@cern.ch>
    * Fixing CheckName function so that it works when quotation marks are used

2019-03-15 Tomas Dado <tomas.dado@cern.ch>
    * Removing ATLAS labels from plots when “none” is set (Multifit)
    * Using random initial NP values in Ranking if specified in the config (previously used only in the fit)

2019-03-14 Tomas Dado <tomas.dado@cern.ch>
    * Fixed a bug that would cause a crash in multifit when no LH scan was used in “f” step
    * Tuned on optimisation in createNLL function - significantly reduces CPU running time (10x faster!) while having no effect on the actual result. Thanks to Kevin Moor for reporting this!

2019-03-13 Alexander Held <alexander.held@cern.ch>
    * Fixing typos and README updates

2019-03-11 Tomas Dado <tomas.dado@cern.ch>
    * Moving symmetrisation/smoothing after DropNorm scaling as it causes problems with ReferenceSample

2019-03-11 Tomas Dado <tomas.dado@cern.ch>
    * Fixing Morphing leading to very large post-fit uncertainties due to a bug
    * Now we properly propagate fixed NPs (from config) to ranking and multifit, these were ignored previously

2019-03-06 Tomas Dado <tomas.dado@cern.ch>
    * When “none” is set for ATLAS label, no label is shown for Ranking

2019-03-05 Tomas Dado <tomas.dado@cern.ch>
    * Fixing ranking - now only set the NF starting point as it was causing problems for NP

2019-02-28 Tomas Dado <tomas.dado@cern.ch>
    * Fixing artificial increase of stat. uncertainty on syst variation when ReferenceSample is used

2019-02-22 Tomas Dado <tomas.dado@cern.ch>
    * Using proper starting values for the fit when using ranking (includes multifit)
    * Added option for multi fit “POIInitial”- to se the initial starting point of the POI
    * Fixing issue #5 (could not run “n” step with data only)
    * Change many dynamically allocated objects to stack allocation, mainly for histograms, TLines, TLegend etc

2019-02-21 Tomas Dado <tomas.dado@cern.ch>
    * Code cleanup of PruningUtils
    * CommonStatTools update
    * Fixing memory leaks related to plotting of the NP pulls and similar
    * Fix for Special variable names in config file, MR prepared by (Steffen Korn - thanks!)

2019-02-18 Nello Bruscino <nello.bruscino@cern.ch>
    * Fixing problems for Morphing introduced in the recent changes for Expression

2019-02-13 Tomas Dado <tomas.dado@cern.ch>
    * Fixing check  for available sample when AsimovReplacement is used. MR prepared by Filip Nechansky, thanks!

2019-02-09 Tomas Dado <tomas.dado@cern.ch>
    * Added protection from division by zero when plotting histograms with zero normalisation.
    * Updating CommonTools to the current master version

2019-01-22 Tomas Dado <tomas.dado@cern.ch>
    * The code now throws an error when only validation regions is used while trying to run the fit (this would crash RooFit otherwise) but does not throw any errors when just producing plots or reading ntuples/histograms

2019-02-05 Nello Bruscino <nello.bruscino@cern.ch>
    * Extension the Expression feature of NormFactor to accept more parameters at once. Used in t-channel polarization analysis for fits with spherical coordinates.

2019-01-30 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Pruning code reorganised

2019-01-22 Tomas Dado <tomas.dado@cern.ch>
    * Added support to parallelize the LH scan for multifit. Also added new running type “x” to run only the LH scan.

2019-01-22 Tomas Dado <tomas.dado@cern.ch>
    * Fixing bug in the logic that tested if the fit converged successfully. If both minuit and hess reported errors, the fit was previously flagged as successful

2019-01-22 Tomas Dado <tomas.dado@cern.ch>
    * Fixed correlation matrix in Multifit, added option to use Gammas in the correlation matrix in multifit

2019-01-18 Tomas Dado <tomas.dado@cern.ch>
    * Propagating correlation matrix threshold in multi fit option (did not work before)

2019-01-17 Tomas Dado <tomas.dado@cern.ch>
    * Fixing problem with Category when multiple Systematics are defined with the same name

2019-01-16 Tomas Dado <tomas.dado@cern.ch>
    * Added new running option, “x” - this will run Likelihood scan only, no regular fit will be done (saves some CPU time)
    * Added new command line option - “LHscan” to specify which LH scan to run - this allows to run LH scan on a batch system

2019-01-14 Tomas Dado <tomas.dado@cern.ch>
    * Provide a check for the pathological configurations where no sample or region can be used in the fit to prevent RooStats crashes

2019-01-11 Tomas Dado <tomas.dado@cern.ch>
    * Added protection against systematics with names containing “alpha” or “gamma”, which could cause problems in the code

2018-12-29 Tomas Dado <tomas.dado@cern.ch>
    * Added option: ReferencePruning - will prune systematic wrt a given sample and then apply the same pruning to all samples (useful when using Morphing)
    * Pruning plot now only shows unique systematics in each line (each systematic is plotted only once)
    * Changed ReferenceSmoothing to be relative and not absolute - the systematic effect is copied bin by bin so it keeps the same ratio instead of the same absolute difference

===================================================
TAG TtHFitter-00-04-04
===================================================

2018-12-19 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing crash when getting limit with no systematics (due to pruning)
    * Adding command line option “LimitParamValue” (to be written into the limit output file)
    * Adding Suffix to limit output file (so that one can use the command line option)
    * Adding LegendNColumns to config schema
    * Tagging TtHFitter-00-04-04

2018-12-18 Tomas Dado <tomas.dado@cern.ch>
    * Added option to blind some NP/POI when running on data. They will be propagated but they won’t be in human readable form in the txt files/pull plots. Also suppressing console output when this option is used.

2018-12-12 Tomas Dado <tomas.dado@cern.ch>
    * Fixing crash in pruning when nullptr histograms are passed

2018-12-05 Tomas Dado <tomas.dado@cern.ch>
    * Added ReferenceSmoothing - will smooth systematic wrt to a given sample and then copy the effect bin-by-bin to all specified samples (useful when Morphing is used)

2018-11-30 Tomas Dado <tomas.dado@cern.ch>
    * Updating CommonStatTools package to the current master version

2018-10-30 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing log scale cosmetic problem

2018-11-30 Tomas Dado <tomas.dado@cern.ch>
    * Added new options for pruning. Can now prune effect wrt the total background

2018-11-29 Tomas Dado <tomas.dado@cern.ch>
    * Added new options for symmetrisation, mostly useful for the cases when the syst effect has the same shift for both up and down variations

2018-11-29 Tomas Dado <tomas.dado@cern.ch>
    * Hopefully final fix for the RGB option (prepared by Knut Zoch)

2018-11-29 Alexander Held <alexander.held@cern.ch>
    * Implementing BlindingType option (S/B, S/sqrt(B), S/(S+B), S/sqrt(S+B))

2018-11-26 Tomas Dado <tomas.dado@cern.ch>
    * Fixing problem with RGB setting

2018-11-22 Tomas Dado <tomas.dado@cern.ch>
    * Fixed issue with error bands in ROOT 6.14

2018-10-24 Tomas Dado <tomas.dado@cern.ch>
    * Added option to specify canvas sizes for various plots. If nothing is specified, the default is used.

2018-10-23 Tomas Dado <tomas.dado@cern.ch>
    * Adding option to use RGB for colours. MR prepared by Knut Zoch, thanks!

2018-10-23 Tomas Dado <tomas.dado@cern.ch>
    * Adding “OutputDir” setting to command line options

2018-10-22 Tomas Dado <tomas.dado@cern.ch>
    * Fix for systematic uncertainties on data. MR prepared by Filip Nechansky, thanks!

2018-10-22 Tomas Dado <tomas.dado@cern.ch>
    * Simple speedup: We do not check against every systematic, but only to unique systematics

2018-10-19 Tomas Dado <tomas.dado@cern.ch>
    * Print systematics with the same name only once in the config summary

2018-10-19 Tomas Dado <tomas.dado@cern.ch>
    * Fixing bug in jobSchema for confidence level

2018-10-19 Tomas Dado <tomas.dado@cern.ch>
    * Adding option to manually set SetRangeUser on xAxis in region

2018-10-17 Tomas Dado <tomas.dado@cern.ch>
    * Using CommonStatTools for limits and significance calculation

===================================================
TAG TtHFitter-00-04-03
===================================================

2018-10-16 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Adding few options for template fitting (PropagateSystsForMorphing and CorrelateGammasWithSample)
    * Tagging TtHFitter-00-04-03

2018-10-16 Alexander Held <alexander.held@cern.ch>
    * The StatOnly command line option description previously mistakenly stated that NFs are set to constant if enabled, and did not mention that gammas are not considered when this option is used.
    * Fixing typos

2018-10-16 Tomas Dado <tomas.dado@cern.ch>
    * The config reader exceptions (“none”,”all”) are now case insensitive

2018-10-16 Tomas Dado <tomas.dado@cern.ch>
    * Fixing crash when accessing deleted object when doing prefit/postfit plots with “KeepPrefitBlindedBins: TRUE”. MR prepared by Filip Nechansky. Thanks!

2018-10-16 Tomas Dado <tomas.dado@cern.ch>
    * Code cleanup of ReadHistograms - creating a new method that is used in multiple places thus making the code more readable

2018-10-16 Tomas Dado <tomas.dado@cern.ch>
    * Fixing a bug that was introduced with recent changes that lead to possibly reading histograms with HIST option multiple times and adding them together

2018-10-04 Alexander Held <alexander.held@cern.ch>
    * improved treatment of fixes for bins with negative yields
    * adding CorrectNormForNegativeIntegral option (default: false)

2018-10-02 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Tagging TtHFitter-00-04-02
    * Fixed TTHFITTER-211
    * Fixed some plot ATLAS style stuff: no end error bar lines, and now by default black points in ratio plot (can be turned into white again with “OPRATIO”)
    * Proper MCstat error computation with NonProfiledFit

2018-09-27 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing crashes and weird behavior of MergedPlots
    * Added various options to specify almost any combination of Histo/Ntuple paths/files/names/suffix... (see README)
    * On-the-fly rebinning option added (Region -> Rebinning)
    * Improved printout for config summary

2018-09-23 Alexander Held <alexander.held@cern.ch>
    * Set CombineChByCh to true by default

2018-09-12 Tomas Dado <tomas.dado@cern.ch>
    * Added option to customise output histogram when running toys

2018-09-05 Tomas Dado <tomas.dado@cern.ch>
    * Fix: need to first create the “Morphing” folder to plot the variations

2018-08-31 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Tagging TtHFitter-00-04-01

2018-08-30 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Attempt to fix y-axis range glitch happening sometimes (now y-axis maximum fixed just before saving plots to the max of h_dummy - only for region plots, not yet for summary, probably not needed?)
    * Fixed bug when using “NormToSample” and b option (syst variation original histograms where scaled as well, not intended - _orig histograms shouldn’t be touched when doing the b step)
    * Improved TRExPlot with proper destructor, vectors, some std:: ...

2018-08-30 Tomas Dado <tomas.dado@cern.ch>
    * Printing warning when TwoSided symmetrisation is used and both variations have the same shift. Printing for variations larger than MC stat uncertainty and for systeamtics with at least 0.5% effect to highlight only large variations

2018-08-29 Alexander Held <alexander.held@cern.ch>
    * Improved message output from TRExFit::PrintRegionSummary() (previously TRExFit::Print())
    * Small message updates in trex-fitter.C

2018-08-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixes crash when nw is called with separate gammas
    * Fixing ATLAS rounding, introducing separate flags for txt and tex table rounding, improving layout of tex tables (according to the rounding implemented now in the code)

2018-08-23 Tomas Dado <tomas.dado@cern.ch>
    * Small improvements in error messages for config reading

2018-08-23 Tomas Dado <tomas.dado@cern.ch>
    * Improving config reading protection. Now all samples/regions are cross checked versus what is in the config and not what passes command line selection.
    * Config checks now work for command line options and work with wildcards
    * Switching default setting to stop running the code when samples/regions are not present in a config - this can see be set to only print warnings

2018-08-23 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Removing “using namespace std” from Root/TRExFit.C
    * Adding morphing plots
    * Adding morph smoothing with custom functions
    * Few other code fixes

2018-08-22 Alexander Held <alexander.held@cern.ch>
    * Documentation updates, including fix for [TTHFITTER-197]
    * Adding handling of rounding for cases with zero uncertainties

2018-08-21 Tomas Dado <tomas.dado@cern.ch>
    * Fixed problem with stat uncertainty on systematics when using “ScaleUp” or “ScaleDown” as reported in [TTHFITTER-201]
    * Added option to include Gammas in correlation matrix (default is exclude them) requested in [TTHFITTER-181]

2018-08-21 Tomas Dado <tomas.dado@cern.ch>
    * Changed float to double for parts of the code where precision matters. Moved from TH1F to TH1D
    * Added option to use ATLAS rounding rules for yields table

2018-08-20 Tomas Dado <tomas.dado@cern.ch>
    * Have only one result for ranking with NPs of the same name - fix for MultiFit

2018-08-17 Alexander Held <alexander.held@cern.ch>
    * README switch to markdown, adding table of contents and improved formatting

2018-08-17 Tomas Dado <tomas.dado@cern.ch>
    * Updated Warning/Errors, now we print only warnings if we can recover
    * Fixed crashes of the code when wrong histograms are provided
    * Added compilation option that warns about one parameter shadowing another one and fixing the compilation warnings from this option

2018-08-15 Tomas Dado <tomas.dado@cern.ch>
    * Fixing code that ran LHscan twice (or even for ranking) for multifit + some cout fixes for multifit
    * Code cleanup - removed commented out code and changed “or” in if conditions to standard “||”

2018-08-14 Tomas Dado <tomas.dado@cern.ch>
    * Fixed a crash when option like “Ranking=” (without any parameter) was used
    * Using POIName in ranking plot in multifit
    * Fix a crash when combined option is used for Multifit LHscan and no LHscan is present in the single fit files
    * Added protection for number of input parameters for the main function. If 1 parameter is provided the code will fail. If more than 3 are provided it will print a warning that some of the parameters are ignored

2018-08-14 Tomas Dado <tomas.dado@cern.ch>
    * Added option “ShowTotalOnly” to multifit. If set to TRUE will show only total uncertainty on POI plots (no stat). Default is FALSE.

2018-08-13 Tomas Dado <tomas.dado@cern.ch>
    * Fixed crash when no Data sample is defined (for asimov) when drawing some plots
    * Changed “0x0” to standard “nullptr”

2018-08-10 Tomas Dado <tomas.dado@cern.ch>
    * Fits now start from nominal values for norm factors instead of starting from NF = 1
    * Renaming TtHFitter (and all variations) to TRExFitter
    * Fixed Logo reading from the config (now is transformed to uppercase)

2018-08-09 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Restructuring ConfigParser and ConfigReader in order to protect text inside quotation marks from being interpreted
    * Fixed crash happening when using DataType: ASIMOV
    * Fixed yield tables when NOSIG is used as PlotOption (now in this case there is a warning telling the user that the total is not including the signal(s), “Total” becomes “Tot.Bkg.”, but the signal lines have all the proper systematics and errors on norm-factors applied)

2018-08-08 Tomas Dado <tomas.dado@cern.ch>
    * Renaming myFit.exe to trex-fitter, adding it to $PATH. Can now call “trex-fitter” from anywhere to run the code

2018-08-05 Tomas Dado <tomas.dado@cern.ch>
    * Fixed all includes in headers/source code. Now using forward declarations where possible

2018-08-03 Tomas Dado <tomas.dado@cern.ch>
    * Added cosmetic option for ranking to change the name of POI. Default is “#mu”.
    * Added customization option for LHscan. Can now set min, max and also number of steps
    * Moved script to macros/ folder. Moved Atlas* files to a new folder. Adjusted includes. Removed includes from Common.h header file and added them in Common.C for the includes that are needed. Added missing includes in other source files.

2018-08-01 Tomas Dado <tomas.dado@cern.ch>
    * Code cleanup of FittingTool. Improved the logic of the fit retries. Now requires EDM < 0.001 for a successful fit. Changes static int variable to non-static - it was causing toys to fail once a fit failed.
    * Fixing prefit tables when morphing/Expression is used - previously it was not scaled to nominal values of the morph parameter in prefit thus every template was added to total yields. Also running once over one NuisanceParameter, previously ran once for each time the NP appeared in the config leading to large uncertainties

2018-07-31 Tomas Dado <tomas.dado@cern.ch>
    * Added new setting to config to allow custom number of digits in norm factor plots
    * Switching AllowWrongRegionSample default to TRUE

2018-07-30 Tomas Dado <tomas.dado@cern.ch>
    * DrawSystPlots now uses nominal value for normalization instead of 1
    * Switched to a new version of CommomStatTools that fixes some compilation warnings
    * Updated dump_log_files.sh script, now it works with cmake configuration

2018-07-28 Tomas Dado <tomas.dado@cern.ch>
    * Fixing DrawSystPlotsSumSamples function, previously it didn’t work if multiple regions were defined. Now it also works with “morphing”

2018-07-26 Tomas Dado <tomas.dado@cern.ch>
    * Fixing various memory leaks when running toys
    * Moved running of toys to a separate function
    * Now “#” can be used at the beginning of a line (first non-whitespace character) to comment the line out

2018-07-24 Tomas Dado <tomas.dado@cern.ch>
    * Updated setup.sh script - can call it from every location now (Thanks Knut!)
    * Fixed cmake not compiling hupdate.C code and moved it to util (Thanks Knut!)

2018-07-17 Tomas Dado <tomas.dado@cern.ch>
    * Fixed crash of TRExFItter when wrong reference sample is used
    * Fixed a bug in symmetrization of plots that was introduced when switching to common smoothing algorithms

2018-07-14 Tomas Dado <tomas.dado@cern.ch>
    * Switched to using Commom Stat tools, for now only for smoothing
    * New smoothing options are now available, the default is the same as before
    * Removed Makefile and switched to using cmake
    * Using optimised compilation (-O3)
    * Fixed warnings from optimised compilation

2018-07-10 Tomas Dado <tomas.dado@cern.ch>
    * Adding new option for morphing - can choose LINEAR morphing(default), SMOOTHLINEAR which will use integral of hyperbolic tangent as an approximation or SQUAREROOT which uses \sqrt(x^2+epsilon) as an approximation of a linear function

2018-06-28 Tomas Dado <tomas.dado@cern.ch>
    * Fixing post fit plots when using morphing, previously would cause (-)NaNvalues and thus zero/infinite error bars
    * Had to restructure the code a bit (changed the order of loops) to treat morphing properly

2018-06-27 Alexander Held <alexander.held@cern.ch>
    * fixing MCstatConstraint option to work with new config reading
    * setting default constraint term for MC stat to Poisson (was Gaussian previously)
    * adding FILLUPFRAME setting to SystDataPlots option in reference config

2018-06-01 Tomas Dado <tomas.dado@cern.ch>
    * Added cosmetic option for multifit to set the name of POI on plots: "POILabel"
    * Added cosmetic option for multifit to set the value for SM expectation of POI on plots: "POINominal"
    * Added protection for "DataName" configuration

2018-05-31 Tomas Dado <tomas.dado@cern.ch>
    * Added protection when GHOST samples are defined after other samples
    * Added automatic check if the used samples/regions are actually defined
    * Added option to disable the check for regions/samples (will print only warnings) - may be useful for debugging

2018-05-31 Alexander Held <alexander.held@cern.ch>
    * fixing blinding threshold calculation (fixes TTHFITTER-193)
    * previously S/(S+B) was calculated and compared to BlindingThreshold
    * now S/B is calculated instead, as originally intended and documented in the readme

2018-05-30 Alexander Held <alexander.held@cern.ch>
    * enabling syst error bars by default (default value for SystErrorBars is now TRUE)

2018-05-21 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added morphing template smoothing
    * Added toys to compare with uncertainty from the fit (tested just for stat uncertainty on Asimov, need more checks, need to understand why getting stuck at first invalid fit)
    * Added functionality for non-profile fit (stat-only fits on Asimov with syst variations one at a time)
    * String comparison internal functionality improved for wildcards
    * Updated fixes from 4top paper
    * Various fixes
    * Tagging TtHFitter-00-03-25: backup version before merging with Common scripts implementation (version for 4top paper)

2018-05-18 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Tagging TtHFitter-00-03-24: first tag with new config syntax check

2018-05-03 Tomas Dado <tomas.dado@cern.ch>
    * Fixing bug in ConfigParser that would not check the setting if option were not int/ string or float
    * Adding Significance block into config and separating settings from limit setting - closes TTHFITTER-185

2018-05-04 Alexander Held <alexander.held@cern.ch>
    * removing ReduceNPforRanking option (not in use, and was not working properly either)
    * fixing default config path in myFit.C

2018-04-25 Alexander Held <alexander.held@cern.ch>
    * adding a few missing options to the reference config and fixing typos
    * extending readme with missing options

2018-04-16 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added few missing options to jobSchema (DoSignalRegionsPlot and SeparateGammas)
    * Fixed issue of info messages printed if debug = 0 before config reading (function added to ConfigParser and called at top of myFit)
    * Fixed typo in multi-fit config reader
    * "No systematics found in fit result file" moved to Debug stream
    * Added logo (can switch it on with Logo: TRUE) -- credits to Will Breaden Madden
    * Added RunROOTMacros option to multi-fit (but crashing with limits... so TRUE by default)

2018-03-09 Tomas Dado <tomas.dado@cern.ch>
    * Created new class that processes config input
    * Moved reading of the config from TthFit.C into separate file

2018-02-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Few more fixes to post-fit impact table

2018-03-21 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Few more fixes to post-fit impact table

2018-03-16 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Extending post-fit impact table functionality to MultiFit
    * Fixing two small issues with post-fit impact tables (for cases with no minos or with systName!=nuisPar)

2018-03-09 Alexander Held <alexander.held@cern.ch>
    * Added the possibility to create tables showing post-fit impact of groups of nuisance parameters on the POI, see readme for more information
    * Can now group Systematics and NormFactors via new SubCategory options
        * Two groups exist by default, "Gammas" and "FullSyst"
    * New command line option "i" to perform required calculations
        * Can use GroupedImpact option to parallelize (similar to ranking)

2018-02-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Merging some features developed for the 4top analysis
    * Updating ROOT version

2018-03-05 Tomas Dado <tomas.dadod@cern.ch>
    * Fixing compilation error for gcc62
    * Fixing postfit plots when morphing option is used

2018-02-09 Tomas Dado <tomas.dadod@cern.ch>
    * Moved ROOT macros for significance and limits calcuation to core code. Modified messaging to use TRExFitter standards. Fixed indentations
    * Still left the option to run with the ROOT macros by setting: "RunROOTMacros" to "True"

2018-02-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed random crashes caused by recent commits (thanks Tomas)
    * Added "Expression" option for NormFactors, which allows to correlate different norm factors in a custom way (see README)

2018-02-20 Alexander Held <alexander.held@cern.ch>
    * Changed EOL characters in TtHFit.C to unix-style
    * Updated ConfigParser.C to use StatusLogbook

2018-02-16 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixes TTHFITTER-171
    * Fixes TTHFITTER-172
    * Fixed few more things in MultiFit
    * Fixes TTHFITTER-175
    * Fixed issue with prefit yield table (thanks for spotting it Steffen)
    * Improved LH scan and fixes TTHFITTER-160

2018-02-15 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Bootstrap functionality added (fixes TTHFITTER-174)
    * Fixed crash when doing d step
    * fixed range of LHscan for norm factors (using actual range)
    * fixed issue in prefit tables for systematics with same NP

2018-02-14 Alexander Held <alexander.held@cern.ch>
    * Removed non-ASCII characters from core files
    * Fixes TTHFITTER-168

2018-02-13 Emma Winkels <ewinkels@cern.ch>
    * Small improvements to systematics plots
    * Clarified description of SignalRegionsPlot option in README

2018-02-09 Tomas Dado <tomas.dadod@cern.ch>
    * Added new option to JOB settings "SuppressNegativeBinWarnings", if set to true the code will not print out warning about (zero)negative bincontents, closes TTHFITTER-62
    * Added new printout option, Verbose. Activated when DebugLevel > 2.Applied to correlation matrices. Solves TTHFITTER-170
    * Added few protections for printout. Warnings for missing histograms will not be printed for histograms containing "customAsimov". Missing NPs in correlation will print warning only if they do not contain "morph".
    * Added more digits to NLL and reduced NLL values

2018-02-08 Tomas Dado <tomas.dadod@cern.ch>
    * Added support for morphing when two different variables that use morphing for templates are used

2018-02-02 Alexander Held <alexander.held@cern.ch>
    * Added new Samples option BuildPullTable to create tables showing post-fit acceptance effect of nuisance parameter pulls
    * See README for details
    * Original implementation by Jelena Jovicevic / Thomas Calvet
    * Closes TTHFITTER-169

2018-02-02 Michele Pinamonti <michele.pinamonti@gmail.com>
    * template fitting improved, with post-fit functionality working (still not for summary and tables, systematics to check)

2018-02-01 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Small fix preventing a crash when producing pre-fit yield tables
    * CustomFunctions option added for Job, to be able to use custom functions defined in .C files for selection or weights (instructions in the README)

2018-01-27 Robert Wolff <robert.wolff@cern.ch>
    * Fixed yields and plots errors and ranking for twice defined systematics

2018-01-26 Michele Pinamonti <michele.pinamonti@gmail.com>
    * template fitting improved, with prefit functionality working (still no post-fit)

2018-01-25 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added first version of template fitting (1D signal morphing) THANKS TOMAS DADO!!
    * Working on TTHFITTER-139
    * Fixed small issue with prefit tables causing crash sometimes

2018-01-24 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed runAsymptoticCLs_inject
    * Fixed crashes related to post-fit and gamma uncertainty propagation
    * Fixed small bugs from previous commit
    * Added/fixed flags to remove xerror bars and end-bars
    * IMPORTANT: FIXED BUG IN WEIGHT SYSTEMATICS

2018-01-17 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixes post-fit uncertainty band issues with norm factors fitted away from 1
    * Fixes post-fit uncertainty band issues with gammas (if UseGammaPulls is used)
    * Fixes post-fit uncertainty band issues with systematics with NuisanceParameter != Name
    * Fixes TTHFITTER-165: now ranking plot takes NuisanceParameter as as input, not syst Name
    * Fixes TTHFITTER-155
    * Fixes TTHFITTER-109
    * Code now aborts if ranking plot is running with a B-only fit
    * Added flags to enable/disable under/over-flow bins for both HIST and NTUP inputs (keeping default as it is)
    * Added flags to enable/disable summary plots, tables, signal region plots and pie-chart plots
    * Added the functionaliy (experimental) to draw merged plots of all bins of all regions (with flag DoMergePlot)
    * Newer version of ROOT

2017-12-20 Loic Valery <lvalery@cern.ch>
    * Update the Makefile with Knut's proposal

2017-12-20 Loic Valery <lvalery@cern.ch>
    * Fix some issue with the norma factors in prefit plots
    * Adding an option to remove the X error bars on data and ratio plots

2017-11-30 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fix for ranking plot (working on TTHFITTER-164)

2017-11-24 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Ranking plot working properly with gammas (working on TTHFITTER-164, fix point 1)
    * Ranking plot labels fixed (working on TTHFITTER-164, fix point 2)

2017-11-15 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Gamma pulls propagated to post-fit plots (fixes TTHFITTER-163)

2017-10-29 - Loic Valery <lvalery@cern.ch>
    * Fix issue for systematics leading to > 100% change (in Region.C)
    * Fix mem leak when reading histograms

2017-10-18 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added systematic options SampleUp, SampleDown

2017-10-09 Loic Valery <lvalery@cern.ch>
    * Adding BinnedLikelihood property to runAsymptotics and runSig

2017-10-05 Michele Pinamonti <michele.pinamonti@gmail.com>
    * README updated (still need to fix / add few things)
    * options added to use separate gammas for some samples and to even correlate gammas across regions (if they come from the same events in data in the case of a data-driven estimation, or in the case of TRF for MC)

2017-10-04 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Four-top style for multi-fit POI
    * Fixes to multi-fit for comparisons
    * Fix to SHAPE systematic (now should finally work fine)
    * Starting to work on option SeparateGammas for individual samples (not yet fully working)
    * Fixes TTHFITTER-157

2017-10-02 David Hohn <dhohn@cern.ch
    * custom bin labels for Regions (useful for e.g. for lepton flavours)

2017-09-22 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Allow multiple samples to be added with AddSamples, SubtractSamples

2017-09-18  David Hohn  <david.hohn@cern.ch>
    * Add Support for drawing sum of prefit bkg on postfit plots

2017-09-14 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing Systematic option ScaleUp/Down, so that one can specify different scaling for each region, and the scaling is re/un-done in the b step

2017-09-13 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixes TTHFITTER-152

2017-09-07 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed runAsymptoticCLs accoding to TTHFITTER-117
    * Fixed chi2 computation in case of constant norm factors, according to TTHFITTER-153

2017-08-16 Michele Pinamonti <michele.pinamonti@gmail.com>
    * MultiFit fFastFitForRanking bug fixed (it was set to true, no way to change it from the multi-fit config)

2017-07-26 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing error propagation when dividing samples
    * Fixes TTHFITTER-149
    * added signal injection option in MultiFit (for limit)

2017-07-17 Michele Pinamonti <michele.pinamonti@gmail.com>
    * stat-only option for chi2

2017-07-05 Michele Pinamonti <michele.pinamonti@gmail.com>
    * merge with FixNP by Roger (fixes TTHFITTER-141)
    * fix bug blinding in summary plots

2017-07-03 Michele Pinamonti <michele.pinamonti@gmail.com>
    * RooStats::UseNLLOffset(true) added (as per e-mail reommending it)
    * Add NtupleNamesUp/Down and NtuplePathsUp/Down options for systematics in config
    * Fixes TTHFITTER-136 (proper usage of OutDir by significance evaluation and multi-fit limit comparison)
    * adding option to print chi2 and prob on the plots
    * Fix bug for on bind blinding propagation (to chi2 and post-fit plots)

2017-06-30 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Working on TTHFITTER-137, extended chi2 test for pre-/post-fit plots added

2017-06-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * MergeSystematics moved before syst symmetrisation
    * Fixes TTHFITTER-135

2017-06-23 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fix memory issue when too many histograms are read from file (calling "TH1::AddDirectory(kFALSE);" if no writing is involved)
    * goodness of fit added - need flag GetGoodnessOfFit set to TRUE under Fit
    * PreSmoothing for systematics added (can be combined or not with normal smoothing)
    * Various fixes on multiplication/division of samples and propagation of systematics in this case
    * Various small fixes

2017-06-12 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fix of DropBins functionality
    * Fix of post-fit plots crash
    * Extension of CustomAsimov functionality (see README)

2017-06-09 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Implemented random POI scaling (closes TTHFITTER-134)
    * fixes

2017-06-08 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Implemented Custom Asimov (closes TTHFITTER-132)
    * Started to implement SHAPE systematics (working on TTHFITTER-120)
    * Implementing DropBins option (closes TTHFITTER-133)

2017-06-01 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Taking sum of signals for SignalRegions plot (closes TTHFITTER-130)
    * setting default ratio y min to 0.5 an max to 1.5

2017-05-31 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing y-axis range (closes TTHFITTER-64)

2017-05-29 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Finally fixed the bug preventing S/B plots to show-up in eps format (fixes TTHFITTER-128)
    * Partially fixing memory leak in ranking (progressing on TTHFITTER-112)

2017-05-25 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing bug affecting production of pre and post fit at once in certain conditions (fixes TTHFITTER-126)
    * Option added to systematic in order to keep it shape only for certain samples / sum of samples (needed for c-tagging calibration plots, option KeepNormForSamples)
    * Fixing separation plot cosmetics (fixes TTHFITTER-125)

2017-05-23 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Putting back the option NtupleFileUp/Down for backward compatibility (was superseded by NtupleFilesUp/Down)
    * Fixing nominal smoothing
    * Polishing

2017-05-19 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing bin blinding visualisation and add possibility to keep pre-fit blinding in post -fit (fixes TTHFITTER-123)
    * Add configurable y range for ratio plots (fixes TTHFITTER-124)

2017-05-18 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Changing histo creation procedure: root files created before creating histograms (closes TTHFITTER-121)
    * fixing crash on yield table creation (closes TTHFITTER-118)
    * fixing warnings in significance and limit with signal injection (significance affects log files - had to be re-created)
    * fixing problem with validation regions and multi-fit (fixes TTHFITTER-122)
    * adding script hupdate (closes TTHFITTER-119)

2017-05-17 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added SaveSuffix option (working on TTHFITTER-122)

2017-04-11 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing crash when producing SystDataPlots
    * Fixing ranges of normalisation factor and gamma plots
    * adding combined significance

2017-03-20 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Tagging: TtHFitter-00-03-07

2017-03-13 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing decorrelation by sample and ghost samples. Closes TTHFITTER-107
    * Fixing large stat err for zero content. Closes TTHFITTER-105
    * Fixing StatOnly flag (closes TTHFITTER-102):
       * if StatOnly set to TRUE, no gammas anywhere
       * need to be done before workspace creation in order to work with the limit / significance (l, s)
       * can be done from command line
       * does not need to re-create ws in case of fit (f)

2017-03-09 Michele Pinamonti <michele.pinamonti@gmail.com>
    * IMPORTANT: Binned likelihood option added, which might fix fit instabilities (thanks Daiki)
    * Adding small options: no ratio plot (thanks Robert Wolff) and others

2017-02-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * various merge requests + few small cosmetics

2017-01-31 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing y axis range issues + few small cosmetics

2017-01-19 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Post-fit summary plot bug fixed
    * Pruning.root warning removed TTHFITTER-100

2017-01-18 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Setup script back to a working version TTFITTER-98
    * Fixed missing MC stat error in summary plot TTFITTER-99
    * options Sample->DivideBy and MultiplyBy now operational

2016-12-14 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added configurable y axis range per region

2016-10-27 Loic Valery <lvalery@cern.ch>
    * Slight change in the setup for the automatic build in Git
    * Adding lots of Git stuff in the package (README.rst, .gitignore, ...)

2016-11-07 Thomas Calvet <calvet@cppm.in2p3.fr>
    * Fix automatic binning for histo inputs with Julian's correction

2016-11-07 Thomas Calvet <calvet@cppm.in2p3.fr>
    * Adding gammas in the ranking. Can choose the plot style, see README "RankingPlot" option for Job
    * Fixed "StatOnly: TRUE" now correctly exclude MC stat when fitting (not added for limit and sig yet)

2016-08-31 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed bug causing crash when drawing regions with 0 data events

2016-07-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Nominal smoothing stat uncertainty fixed
    * Few additional options for MultiFit
    * Small fixes toward ICHEP

2016-07-21 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed stat uncertainty for nominal smoothing
    * Added ttHbb ICHEP CONF note style options
    * Added option to skip normalisation (so shape only) for systematics (in some regions or for samples only, or everywhere, with "all")
    * Added plot comparing norm factors in MultiFit

2016-07-19 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed procedure to set to 1e-6 the negative bins: now it preserves the original yield (setting it to flat 1e-6 in case it's negative)
    * Added option to hide a NP from pull and correlation matrix plots
    * Added Category for NormFactors
    * Added config option for Suffix (before only from command line)

2016-07-18 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Nominal smoothing modified: removed the functionality which sets histograms to constant in some cases (creating issues)

2016-07-12 Will Breaden Madden <w.bm@cern.ch>
    * run.py
        * add warning comparison for cores configuration and cores detected
        * add executable filename command line argument
        * tidy
    * ChangeLog
        * remove tabs
        * change eight-spaces to four-spaces

2016-07-12 Will Breaden Madden <w.bm@cern.ch>
    * remove run.sh, a simple example run script
    * add run.py, a less simple example run script

2016-11-07 Thomas Calvet <calvet@cppm.in2p3.fr>
    * Adding automatic binning for background: if shapes are wanted (i.e. Transfo F or D with sig parameter=0) need to specify with samples is used to replace signal (e.g. "AutoBin","TransfoD",paramSig,paramBkg,"smp1","smp2")

2016-06-07 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Adding log(S/B) summary plot (use flag PlotSoverB: TRUE in multi-fit congig file)

2016-04-07 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Adding ranking to MultiFit for combined fit
    * Adding an option to order NP in MultiFit for PullPlot (NuisParListFile)

2016-03-07 Michele Pinamonti <michele.pinamonti@gmail.com>
    * tagging: 00-02-01

2016-07-01 Will Breaden Madden <w.bm@cern.ch>
    * refactor, make more robust and tidy output of run.sh example run script

2016-01-07 Michele Pinamonti <michele.pinamonti@gmail.com>
    * fixed yield tables (presence of norm factors was interfering with the sample-by-sample errors)
    * syst tables by category added: use opton Job, SystCategoryTables: TRUE
    * option in config for clean tables: use Job, CleanTables: TRUE
    * safer selection string handling

2016-06-29 Will Breaden Madden <w.bm@cern.ch>
    * add run.sh, a simple example run script

2016-06-29 Will Breaden Madden <w.bm@cern.ch>
    * minor tidy runAsymptoticCLs.C

2016-28-06 Michele Pinamonti <michele.pinamonti@gmail.com>
    * stat-only fit option added (NP fixed to nominal fit values, then data re-fitted): use Fit option fStatOnlyFit (even from copmmand line)
    * fixed Asimov creation for combined fit (in MultiFit)
    * runAsymptoticCLs made faster changing some default options (please change these options back to default in case you want more accurate results)
    * better .tex yield tables, with the usage of \num and the possibility to specify TexLabel for Regions and TexTitle for samples

2016-23-06 Michele Pinamonti <michele.pinamonti@gmail.com>
    * more options in MultiFit

2016-19-06 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Multi-core fit implemented: use "NumCPU: <N>" under "Fit". Get <N> with grep -c ^processor /proc/cpuinfo

2016-17-06 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fix in "Variable" reading from config file (with ntuple inputs) to allow TTree::Draw special functions
    * Ranking plot including Normalisation Factors
    * Normalisation Factor titles propagated into plots

2016-15-06 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Error bars in Syst plots
    * InputName option added (to use histogram inputs with different name than the Job name)

2016-13-06 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed autobin computation in presence of ghost samples

2016-08-06 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Categories in MultiFit Pull plot: use NPCategories: in MultiFit config

2016-06-06 Michele Pinamonti <michele.pinamonti@gmail.com>, Thomas Calvet <calvet@cppm.in2p3.fr>
    * Partial fix of weight systematics on smoothed samples
    * Option to add random initial values for the NP (useful to help Asimov converging): use flag "SetRandomInitialNPval:" (e.g. set it to 0.1)

2016-05-27 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Printout missing histogram (thanks t Davide Gerbaudo)
    * KeepPruning flag in config file (allows to read Pruning.root file not to read already pruned systematics)

2016-05-18 Thomas Calvet <calvet@cppm.in2p3.fr>
    * Adding functionality to do correlation plot
    * Small bug fix for NTuple reading
    * Bug fix for SystDataPlots option

2016-05-11 Michele Pinamonti <michele.pinamonti@gmail.com>, Valerio Dao <valerio.dao@cern.ch>
    * Pruning functionality fixed

2016-05-09 Michele Pinamonti <michele.pinamonti@gmail.com>, Valerio Dao <valerio.dao@cern.ch>
    * Pruning functionality (and plot) improved

2016-05-06 Michele Pinamonti <michele.pinamonti@gmail.com>, Valerio Dao <valerio.dao@cern.ch>
    * Systematic decorrelation options added (still to document)
    * Bug fix for running from histograms
    * Option added to run on an externally produced workspace (need to specify "WorkspaceFileName" in the config)

2016-04-29 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Functionality added to re-run smoothing after input histograms are created (new option "b")
    * Empty bin warnings now on only in debug mode

2016-04-26 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed auto-binning for histo inputs (thanks Ian)
    * Generation of Asimov within the fitter skipped if no data in any region (i.e. skipping DumpData method)

2016-04-15 Michele Pinamonti <michele.pinamonti@gmail.com>
    * new option for systematics added (StoredName), which allows to specify a different name for storing in (and reading from) the .root files under Histograms/

2016-04-14 Michele Pinamonti <michele.pinamonti@gmail.com>
    * simple/minimal workspace combination method added to MultiFit (to test!)
    * example added for usage of MultiFit

2016-04-08 Michele Pinamonti <michele.pinamonti@gmail.com>
    * InputFolder option added, to use intermediate histograms stored in a directory other than <job-name>/Histograms/
    * Fix in MultiFit::ComparePulls

2016-04-03 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Post-fit syst tables added (created while running the p option)
    * Post-fit uncertainty small fix (relevant with large pulls) - to check!

2016-03-15 Michele Pinamonti <michele.pinamonti@gmail.com>
    * NormFactor usage extended: now is possible to define them in the same way as the Systematics, allowing to have more than one of them for each sample, to have them fixed, to have norm factors affecting more samples, etc...
    * Post-fit norm factor propagation to tables and summary plots fixed
    * System for additional options (floats) added, for easy implementation of flags and options by users (see "Options:" in the README)

2016-03-03 Michele Pinamonti <michele.pinamonti@gmail.com>
    * MCstatThreshold default changed: now by default all gamma's are kept. To remove them completely (former default) use "MCstatThreshold: NONE" (recommended will be "MCstatThreshold: 0.01")
    * Fix for fit and tables with systematics defined in certain regions only
    * Fix plots when more samples with same title are declared (now summed together correctly)

2016-02-29 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixed bug when declaring overall syst in some regions only (by doing so, many changes in SummaryPlot and YieldTables - need some testers!!)
    * Nominal histo smoothing option added (under "Sample", one can specify "  Smooth: TRUE")

2016-02-23 Tamara Vazquez Schroeder <tamara.vazquez.schroeder@cern.ch>
    * Adding functionality to run MINOS over a specified set of parameters (UseMinos in config)

2016-02-17 Loic Valery <lvalery@cern.ch>
    * Fix crash when computing significance and using validation regions

2016-02-15 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Added option to specify NuisanceParameter for each systematic -> allow correlated systematics
    * Added option SkipSmoothing for Regions
    * Added option to multiply and/or divide a sample by another sample (useful for corrections on the flight)
    * Added option UseSystematics for Samples: by default is FALSE for ghost samples, true for other non-data samples
    * Added HistoPath option for Sample, following Ian's suggestion (still to check and to add stuff for systematics!)

2016-01-22 Thomas Calvet <calvet@cppm.in2p3.fr>
    * Adding new plotting functionality
    * Remove overflow and underflow usage in Auto-bin function

2016-01-05 Loic Valery <lvalery@cern.ch>
    * Fix inconsistency for integral to only take into account the range allowed by the user (TTHFITTER-37)

2016-01-30 Loic Valery <lvalery@cern.ch>
    * Fix bug in ranking plot in TtHFit.C

2016-01-27 John Keller <jkeller@cern.ch>
    * Adding New AutoBin algorithm "Transform J"
    * Modify Auto-binning to be compatible with HIST input

2016-01-26 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Option added to switch OFF MC for given sample
    * Fix to HistoTools for one-sided systematics with symmatrisation & smoothing

2016-01-22 Thomas Calvet <calvet@cppm.in2p3.fr>
    * Adding possibility to profile several/all systematics (coma separated list/all)
    * Adding protection to the likelihood scan in case the systematic has been removed in the pruning step

2016-01-20 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Adding experimental option to remove constrain for some systematics -> use IsFreeParameter: TRUE (working only for fit, crashing for limits...)
    * Implementing new options for histogram inputs: Region -> HistoPathSuff(s)

2016-01-11 Tamara Vazquez Schroeder <tamara.vazquez.schroeder@cern.ch>
    * Fixing problems with OverallSystematic in case of correction for negative/null bins in the nom. histogram

2016-01-11 Tamara Vazquez Schroeder <tamara.vazquez.schroeder@cern.ch>
    * Adding likelihood scan option of POI or NP

2016-01-09 Loic Valery <lvalery@cern.ch>
    * Moved StatOnly flag from Fit to Job block

2016-01-08 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing problems with reference systematics & one-sided symmetrisation
    * ConfigParser: spaces before % now allowed

2016-01-08 Thomas Calvet <calvet@cppm.in2p3.fr>
    * Modification if the Binning option is set, NTuple are directly turned in histograms with the specified binning (remove the rebin step to avoid edge problems).
    * Adding AutoBin option for Binning (Binning: "AutoBin","TransfoD",1.,5.).
    * Adding two transformation ("TransfoD","TransfoF") for binning. Each of them requires two parameters.
    * Adding string to double conversion function, with exception protection (try-catch) and protection for incomplete conversion (52f8 -> 52 will crash). Used in the options added here, can be propagated to all conversions.

2015-12-18 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fixing signal draw options
    * Updating documentation
    * tex tables automatic creating added (by Marine)
    * Svn-Tagging: 00-01-01

2015-12-16 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Option added to specify a list of regions where to apply each syst. See option Regions under Systematic (also Exclude should work - to exclude both for regions and sample)
    * Added few options for signal in plots (NOSIG, OVERSIG)

2015-12-11 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Command-line option "Signal" added: e.g.  ./myFit.exe  wl  config/myconfig.config  'Signal=signalA:Suffix=_A'
    * Fixed limit when having a suffix
    * MC stat uncertainty in post-fit tables fixed

2015-12-10 Michele Pinamonti <michele.pinamonti@gmail.com>
    * ReferenceSample option fixed (relative overall normalization variation kept)
    * Image format propagated to syst plots, and now possible to specify more than one (e.g. eps,png)
    * PieChart plot fixed and moved to main output directory (as SignalRegions)

2015-12-06 Loic Valery <lvalery@cern.ch>
    * Improve tables by automating the script -> Still to be improved for the $$
    * Adding pie charts

2015-12-05 Loic Valery <lvalery@cern.ch>
    * Remove useless fits from the limits computation (when everything uses data, no need to fit to get an Asimov)
    * Fixing nans for the regions with 0 signal events bins

2015-12-04 Loic Valery <lvalery@cern.ch>
    * Fixing the fully blinded limits to be compatible when no data sample is there
    * Adding the limit configuration in all the example config files

2015-12-03 Michele Pinamonti <michele.pinamonti@gmail.com>
    * ReferenceSample option added for systematics (to derive syst relatively to a given sample)
    * Type::GHOST added for Sample => sample not shown anywhere, but used for systs with ReferenceSample option

2015-12-03 Calvet Thomas <calvet@cppm.in2p3.fr>
    * Merging trunk with devbranch

2015-12-02 Michele Pinamonti <michele.pinamonti@gmail.com>
    * IgnoreWeight option added for systematics (e.g. to avoid using pile-up weight for MC systematics)
    * Data not shown if Region has ASIMOVDATA
    * (thanks to Arthur) Fix Stat-only limit  and significance by adding a dummy NP
    * Fix fully blind limit

2015-12-01 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit, Region: Syst table output added: when running with option d, one table per region created
    * signals scaled by nominal NormFactor when plotting pre-fit

2015-11-30 Michele Pinamonti <michele.pinamonti@gmail.com>
    * StatOnly flag added (to "Fit" for the moment - actually it affects also Limit... To fix)

2015-11-25 - Loic Valery <lvalery@cern.ch>
    * Adding protection against initial numbers in names. Leads to crash if present (https://its.cern.ch/jira/browse/TTHFITTER-7)

2015-11-25 Loic Valery <lvalery@cern.ch>
    * Adding the partial blinding for fit, limits and significance

2015-11-24 Calvet Thomas <calvet@cppm.in2p3.fr>
    * Update to trunk
    * Add possibility to merge trees coming from same root file
    * Add config example for navigation in root files

2015-11-13 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Some functionalities added for individual sample scaling and to ignore selection
    * README: updated
    * config files moved to new config/ directory

2015-11-11 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Fix by Arthur for more than one NtupleFiles (avoid problems when spaces are in between the ",")
    * Fix by Thomas for crash on FittingTool with stat only

2015-11-06 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Support for more than one Signal (still only 1 POI)

2015-11-05 Loic Valery <lvalery@cern.ch>
    * Fixes POI range in fitting tool

2015-10-28 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit: add protection for no syst case when entering pruning plotting method

2015-10-21 Thomas Calvet <calvet@cppm.in2p3.fr>
    * TtHFit: adding new functionalities for navigation in single root file
    * Common: small fix

2015-10-22 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit: add possibility of Selection for Sample

2015-10-21 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit, Common, SampleHist: HistoCheckCrash flag moved to Common (TtHFitter::HISTOCHECKCRAS) -> correctly propagated to SampleHist
    * TtHFit: Fit method: Asimov used if no data
    * TtHFit: Fix: no smooth method called if no smooth and symmetrization set for syst
    * HistoTools: if no crash, negative syst hist bins set to 1e-06
    * Some cleaning of outdated files

2015-10-20 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit: option added for outout image format
    * New config file for default ttHbbLjet fit

2015-10-15 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit, Region, TthPlot: bin-blinding (as in tth bb lep analysis Run 2) implemented; use the option "BlindingThreshold: 0.02" under Fit in config
    * TtHFit: NP ranking small fixes + parallelization (use inline option Ranking=<name/index of systematic> to run on for single NP - then merge at the plotting stage, with the option Ranking=plot)
    * TtHFit: NP ranking plot method added (run with r argument with no "Ranking" option or with Ranking=plot option)

2015-10-14 Arthur Chomont <arthur.chomont@cern.ch>
    * TtHFit, FittingTool: NP Ranking ported to new Fitting routine

2015-10-09 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit, Sample: added option to include Samples only in some Regions (use Regions: and/or Exclude: in config file)
    * Other small fixes
    * TtHFit, SampleHist: OVERALL systs now saved with correct name as histograms in root file
    * TtHFit: option added in order to write and read separated root files for different regions (faster and can be parallelized)
    * TtHFit: Separation plot added (by Leonid Serkin)
    * TtHFit, FittingTool: Ranking plot stuff partially ported to new Fitting routine

2015-10-03 Loic Valery <lvalery@cern.ch>
    * Improve style of systematics checks plots (and add the stat error information)
    * Adding more checks for null content after symmetrisation and smoothing

2015-10-03 Loic Valery <lvalery@cern.ch>
    * Changing setup for ROOT6 (required access to /cvmfs/)
    * Cleaning Makefile and adapting it to ROOT6
    * Adding class for fitting
    * Propagates new class for fitting into TtHFit.C
    * Change structure of CONFIG file to separate Job and Fit parts and propagate this to TtHFit.C
    * Adding Category for systematics (splitting the pulls plots depending on categories)
    * Changing structure of plot for systematics checks

2015-10-02 Michele Pinamonti <michele.pinamonti@gmail.com>
    * FitCrossCheckForLimits.C, PlotRanking.C: ranking plot added (by Arthur), ranking plot drawing macro added

2015-09-15 Michele Pinamonti <michele.pinamonti@gmail.com>
    * MultiFit.C, MultiFit.h: added

2015-08-26 Michele Pinamonti <michele.pinamonti@gmail.com>
    * mainly TtHFit.C & myFit.C: command line argument added: a list of options. See README file for details.

2015-08-25 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TthPlot: norm. signal added to legend (to have norm sig, use the option "PlotOptions: "NORMSIG" ")
    * TthPlot: variable bins divided by bin width / nominal bin width (as region option, specify "BinWidth: ...")
    * TtHFit.C, Region.C, Sample.C/.h: added Sample::fGroup attribute, to be used to group samples in plots instead of using the same title
    * TtHFit.C: NtuplePath can be specified for Samples in config file

2015-08-11 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit.C: Fixed NtupleNameUp and Down option
    * All: Fixed NP names / titles in plots
    * HistoTools.C: Fixed issue with one-sided syst symmetrization
    * All: Fixed memory leak warnings
    * Common.C/h: overflow/underflow merged to first/last bin when creating hist from ntup (solving warning from HistoTools)
    * TtHFit.C: Pruning plot added (created when the option "w" is used)

2015-07-24 Michele Pinamonti <michele.pinamonti@gmail.com>
    * All: added few options to config file
    * TtHFit.C: rebinning added for ntuple inputs

2015-07-03 Loic Valery <lvalery@cern.ch>
    * Disentangle S+B fit and CRonly/SR+CR fits

2015-07-01 Loic Valery <lvalery@cern.ch>
    * Change TthPlot to avoid nan problems when no data
    * Some cleaning in TthPlot
    * Fixed bug in post-fit NormFactor error propagation

2015-06-24 Michele Pinamonti <michele.pinamonti@gmail.com>
    * All: Minor fixes
    * Svn-Tagging: 00-00-02

2015-06-23 Loic Valery <lvalery@cern.ch>
    * Changing HistoChecks and preceds it by corrections for null bins and weird systematics
    * Fix text color problems in HistoChecks

2015-06-18 Michele Pinamonti <michele.pinamonti@gmail.com>
    * All: Fix various warnings and printout reduced in case DEBUGLEVEL is set to 0
    * Svn-Tagging: 00-00-01

2015-06-15 Loic Valery <lvalery@cern.ch>
    * Root/TtHFit.C: Adding the check of the histograms
    * Root/SampleHist.C: Adding post-smoothing check of the histograms

2015-06-12 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Root/TtHFit.C: table code fixed
    * Root/TtHFit.C, Root/FitResults.C: systematic pulls plot code moved to FitResults.C

2015-05-27 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Root/TtHFit.C, TtHFitter/TtHFit.h, util/myFit.C: CorrelationMatrix drawing command moved to myFit.C
    * Root/TtHFit.C: signal regions plot fixed (this time really)

2015-05-26 Loic Valery <lvalery@cern.ch>
    * CorrelationMatrix.C: implement dumping of correlation matrix in Plots/ folder

2015-05-25 Loic Valery <lvalery@cern.ch>
    * myFit.C: fixing the order of commands (smoothing done before writing the histos in the file)
    * Region.C: fix on the central values (consistent with Roostats) -- still work to do on the systematics
    * Common.C/.h: moving the variable for dumping systematic control plots in Common

2015-05-22 Michele Pinamonti <michele.pinamonti@gmail.com>
    * general: cahnged organization of the output: now all the files created by a fit are inside a single directory, with a sub-directory structure
    * TtHFit.C: re-introduced SmoothSystematics
    * TtHFit.C, myFit.C: smoothing and syst-plots commands moved to myFit.C (option for saving syst-plots moved as well)
    * tableToLatex.sh: example script added to turn txt tables into latex format
    * TtHFit.C: Fixed signal-regions plot

2015-05-20 Loic Valery <lvalery@cern.ch>
    * TtHFit.C: fix mem leaks, remove unused function (SmoothSystematics), change some histograms names to avoid warning messages
    * TtHFit.h: propagates function suppression
    * TtHFit.C: adding an option in the config file to avoid dumping syst control histograms
    * SampleHist.C: fix bug in the propagation of the normalisation systematic uncertainties

2015-05-14 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit.C: pre and post fit yield tables added
    * TtHFit.C, runSig.C: significance calculation added
    * TtHFit.C: limit and significance output stored in proper file sin proper directories
    * TthPlot.C: plotting style improved (no numbers in the legend, ability to merge small samples...)
    * TtHFit.C, Region.C: root file outputs added for pre- and post-fit plots (summary as well)
    * util/myFit.C: options added for the parser
    * PlotLimits.C: macro added to plot limits (still not interfaced with the main code)
    * Versioning: 1.3

2015-04-30 Michele Pinamonti <michele.pinamonti@gmail.com>
    * TtHFit.C, Region.C: modified to better handle post-fit plots
    * TtHFit.C: post-fit summary plot added
    * util/myFit.C, TtHFit.C: config parser stuff moved to TtHFit.C
    * Many other small changes and cosmetic fixes to code and plots
    * Versioning: 1.2

2015-04-09 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Makefile: changed in order to accept as argument the main code to use (any .C inside utils/)
    * Configuration file system added
    * util/myFit.config: added
    * util/myFit.C: changed in order to read util/myFit.config
    * Region.C: Option added to have different constrains on Overall and Histo systs (at the moment both have interpCode=4, which seems to perform better - to check)
    * Versioning: 1.1

2015-03-13 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Makefile: added
    * util/myFit.C: added (compiled version of FitExample_fromHist.C)

2015-03-04 Michele Pinamonti <michele.pinamonti@gmail.com>
    * Start versioning: 1.0
